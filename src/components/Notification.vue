<script setup>
    import { computed } from 'vue';
    import { useNoticeStore } from '@/store';

    const noticeStore = useNoticeStore()

    const show = computed(() => noticeStore.show)
    const list = computed(() => noticeStore.list)
    
</script>

<template>
    <transition name="notice" appear mode="out-in">
        <div v-if="show" class="notification">
            <div class="title">
                <span>NOTIFICATIONS</span>
                <div class="handle">
                    <button @click="noticeStore.removeAllNotice()">
                        <svg t="1709476752060" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7494"><path d="M0 0m0 0l1024 0q0 0 0 0l0 1024q0 0 0 0l-1024 0q0 0 0 0l0-1024q0 0 0 0Z" fill="#f1f1f1" fill-opacity=".01" p-id="7495"></path><path d="M645.418667 722.474667l297.088-223.872 12.8 17.066666-16.981334 12.8-274.432-364.16 17.024-12.842666 12.8 17.024-379.306666 285.866666-12.885334-17.024 16.597334-13.44 285.141333 352-16.597333 13.44-12.202667-17.493333 71.594667-49.834667 12.202666 17.493334-12.842666-17.066667z m25.685333 34.048l-0.682667 0.512-71.552 49.792q-1.664 1.152-3.498666 1.962666-1.834667 0.853333-3.754667 1.28-1.962667 0.469333-3.968 0.554667-2.005333 0.128-3.968-0.170667-2.005333-0.298667-3.882667-0.938666-1.92-0.64-3.626666-1.621334-1.749333-0.981333-3.285334-2.261333t-2.816-2.858667l-285.098666-352-0.426667-0.597333q-1.28-1.706667-2.218667-3.584-0.896-1.877333-1.450666-3.925333-0.512-2.005333-0.64-4.138667-0.128-2.090667 0.170666-4.181333 0.298667-2.048 0.981334-4.053334 0.725333-1.962667 1.792-3.797333 1.066667-1.792 2.432-3.370667 1.408-1.578667 3.072-2.816l379.392-285.866666q1.706667-1.28 3.584-2.218667 1.877333-0.896 3.925333-1.408 2.005333-0.554667 4.138667-0.682667 2.090667-0.085333 4.181333 0.213334 2.048 0.256 4.053333 0.981333 1.962667 0.682667 3.797334 1.706667 1.792 1.109333 3.370666 2.517333 1.578667 1.365333 2.816 3.072l274.432 364.16q1.28 1.706667 2.176 3.584 0.938667 1.877333 1.450667 3.925333 0.512 2.048 0.64 4.138667 0.128 2.090667-0.170667 4.181333-0.298667 2.048-0.981333 4.053334-0.682667 1.962667-1.749333 3.797333-1.066667 1.792-2.474667 3.370667t-3.072 2.816l-297.088 223.872z" fill="#f1f1f1" p-id="7496"></path><path d="M322.133333 448.512l-222.549333 167.722667-12.842667-17.066667 17.024-12.8 137.216 182.101333 55.466667 73.6-17.066667 12.842667v-21.333333h225.408v21.333333l-13.354666-16.64 81.92-65.578667 26.666666 33.28-81.92 65.621334q-5.845333 4.693333-13.312 4.693333l-225.365333-0.042667q-5.034667 0-9.514667-2.218666-4.522667-2.261333-7.509333-6.272l-55.466667-73.642667-137.258666-182.058667q-1.28-1.706667-2.133334-3.584-0.938667-1.877333-1.450666-3.925333-0.554667-2.048-0.64-4.138667-0.128-2.090667 0.170666-4.181333 0.256-2.090667 0.981334-4.053333 0.682667-2.005333 1.706666-3.797334 1.109333-1.792 2.517334-3.413333 1.365333-1.536 3.072-2.773333l222.592-167.765334 25.685333 34.090667z" fill="#f1f1f1" p-id="7497"></path><path d="M950.741333 876.202667H281.728q-2.133333 0-4.181333-0.426667t-4.010667-1.194667q-1.92-0.810667-3.669333-1.962666-1.706667-1.194667-3.242667-2.645334-1.493333-1.493333-2.645333-3.242666-1.152-1.749333-1.962667-3.712-0.810667-1.92-1.237333-3.968-0.426667-2.090667-0.426667-4.181334 0-2.133333 0.426667-4.138666 0.426667-2.090667 1.237333-4.010667 0.810667-1.962667 1.962667-3.712 1.152-1.706667 2.645333-3.2 1.493333-1.493333 3.242667-2.688 1.706667-1.152 3.669333-1.962667 1.962667-0.810667 4.010667-1.194666 2.090667-0.426667 4.181333-0.426667h669.013333q2.090667 0 4.138667 0.426667t4.010667 1.194666q1.92 0.810667 3.669333 1.962667 1.749333 1.194667 3.242667 2.645333 1.493333 1.493333 2.645333 3.242667 1.194667 1.749333 2.005333 3.712 0.768 1.92 1.194667 3.968 0.426667 2.090667 0.426667 4.181333 0 2.133333-0.426667 4.181334t-1.194667 3.968q-0.853333 1.962667-2.005333 3.712-1.152 1.706667-2.645333 3.242666-1.493333 1.450667-3.242667 2.645334-1.706667 1.152-3.669333 1.962666-1.962667 0.810667-4.010667 1.194667-2.048 0.426667-4.138667 0.426667z m21.333334-21.333334q0 2.133333-0.426667 4.181334t-1.194667 3.968q-0.853333 1.962667-2.005333 3.712-1.152 1.706667-2.645333 3.242666-1.493333 1.450667-3.242667 2.645334-1.706667 1.152-3.669333 1.962666-1.962667 0.810667-4.010667 1.194667-2.048 0.426667-4.138667 0.426667-2.133333 0-4.181333-0.426667t-4.010667-1.194667q-1.92-0.810667-3.669333-1.962666-1.749333-1.194667-3.242667-2.645334-1.493333-1.493333-2.645333-3.242666-1.152-1.749333-1.962667-3.712-0.853333-1.92-1.237333-3.968-0.426667-2.090667-0.426667-4.181334 0-2.133333 0.426667-4.181333t1.237333-3.968q0.810667-1.962667 1.962667-3.712 1.152-1.706667 2.645333-3.242667 1.493333-1.450667 3.242667-2.645333 1.706667-1.152 3.669333-1.962667 1.962667-0.810667 4.010667-1.194666 2.048-0.426667 4.181333-0.426667 2.090667 0 4.138667 0.426667t4.010667 1.194666q1.92 0.810667 3.669333 1.962667 1.749333 1.194667 3.242667 2.645333 1.493333 1.493333 2.645333 3.242667 1.194667 1.749333 2.005333 3.712 0.768 1.92 1.194667 3.968 0.426667 2.090667 0.426667 4.181333z m-669.013334 0q0 2.133333-0.426666 4.181334t-1.194667 3.968q-0.853333 1.962667-1.962667 3.712-1.194667 1.706667-2.688 3.242666-1.450667 1.450667-3.2 2.645334-1.749333 1.152-3.712 1.962666-1.92 0.810667-4.010666 1.237334-2.048 0.426667-4.138667 0.426666-2.133333 0-4.181333-0.426666t-4.010667-1.237334q-1.92-0.810667-3.669333-1.962666-1.706667-1.194667-3.242667-2.645334-1.493333-1.493333-2.645333-3.242666-1.152-1.749333-1.962667-3.712-0.810667-1.92-1.237333-3.968-0.426667-2.090667-0.426667-4.181334 0-2.133333 0.426667-4.138666 0.426667-2.090667 1.237333-4.010667 0.810667-1.962667 1.962667-3.712 1.152-1.706667 2.645333-3.2 1.493333-1.493333 3.242667-2.688 1.706667-1.152 3.669333-1.962667 1.962667-0.810667 4.010667-1.194666 2.090667-0.426667 4.181333-0.426667t4.138667 0.426667q2.090667 0.426667 4.010666 1.194666 1.962667 0.810667 3.712 1.962667 1.706667 1.194667 3.2 2.688 1.493333 1.450667 2.688 3.2 1.152 1.749333 1.962667 3.712 0.810667 1.92 1.194667 4.010667 0.426667 2.048 0.426666 4.138666z" fill="#f1f1f1" p-id="7498"></path></svg>
                    </button>
                    <button @click="noticeStore.onHide()">
                        <svg t="1709476712204" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5469"><path d="M549.1 732.1L943.4 371c21.5-19.7 22.9-53 3.3-74.4-19.7-21.5-53-22.9-74.4-3.3L513.5 621.9 153.7 293.6c-21.5-19.6-54.8-18.1-74.4 3.4-19.6 21.5-18.1 54.8 3.4 74.4l394.9 360.5c0.8 0.7 1.7 1.5 2.5 2.1 19.9 16.4 49.4 16.1 69-1.9z" fill="#f1f1f1" p-id="5470"></path></svg>
                    </button>
                </div>
            </div>
            
            <div class="wrapper" v-for="(item,key) in list" :key="key">
                <div class="main">
                    <div class="icon">
                        <svg t="1709476844251" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8819" id="mx_n_1709476844251"><path d="M514.844444 617.244444c-19.911111 0-31.288889-8.533333-31.288888-28.444444v-199.111111c0-19.911111 8.533333-28.444444 28.444444-28.444445s28.444444 8.533333 28.444444 28.444445v199.111111c0 14.222222-5.688889 28.444444-25.6 28.444444z m0 142.222223c-25.6 0-45.511111-19.911111-45.511111-45.511111 0-25.6 19.911111-45.511111 45.511111-45.511112 25.6 0 45.511111 19.911111 45.511112 45.511112 0 25.6-19.911111 45.511111-45.511112 45.511111z m472.177778 170.666666H31.288889c-11.377778 0-19.911111-5.688889-25.6-19.911111-5.688889-14.222222-5.688889-19.911111 0-31.288889L426.666667 133.688889c11.377778-22.755556 31.288889-51.2 42.666666-65.422222 25.6-34.133333 56.888889-28.444444 76.8-8.533334 14.222222 14.222222 31.288889 42.666667 51.2 73.955556l420.977778 736.711111c5.688889 5.688889 5.688889 14.222222 5.688889 19.911111-5.688889 28.444444-19.911111 39.822222-36.977778 39.822222zM509.155556 116.622222L85.333333 876.088889h853.333334L509.155556 116.622222z" fill="#dfd736" p-id="8820"></path></svg>
                    </div>
                    <div class="content">
                        {{ item.content }}
                    </div>
                    <div class="del">
                        <button @click="noticeStore.removeNotice(key)">
                            <svg t="1709476664755" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4197"><path d="M813.653333 802.986667a42.666667 42.666667 0 0 1-60.373333 0L512 561.706667 270.72 802.986667a42.666667 42.666667 0 1 1-60.373333-60.373334L451.626667 501.333333 210.346667 260.053333a42.666667 42.666667 0 0 1 30.293333-72.746666 42.666667 42.666667 0 0 1 30.08 12.373333L512 440.96 753.28 199.68a42.666667 42.666667 0 0 1 72.746667 30.293333 42.666667 42.666667 0 0 1-12.373334 30.08L572.373333 501.333333l241.28 241.28a42.666667 42.666667 0 0 1 0 60.373334z" p-id="4198" fill="#f1f1f1"></path></svg>
                        </button>
                    </div>
                </div>
                <div class="handle">
                    <!-- <button class="primary">Yes</button>
                    <button>Yes</button> -->
                </div>
            </div>

        </div>
    </transition>
</template>

<style lang="less" scoped>
    svg{width:10px}
    button{background:none;border:none;padding:0;margin:0;cursor:pointer;outline:none;}
    .notification{width:400px;position:fixed;right:15px;bottom:15px;z-index:999;border-radius:5px;background-color:#1f1f1f;box-shadow:0 0 10px rgba(0,0,0,0.3);transition:.3s;
        .title{width:100%;height:35px;display:flex;justify-content:space-between;align-items:center;padding:0 10px;box-sizing:border-box;border-bottom:solid 1px #292929;
            span{color:#ccc;font-size:12px;}
            .handle{display:flex;
                button{border-radius:4px;display:flex;margin-left:5px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;
                    svg{width:14px;}
                    &:hover{background-color:#333;}
                }
            }
        }

        .wrapper{padding-left:10px;padding:10px 0;border-bottom:solid 1px #292929;
            .main{display:flex;
                .icon{width:25px;display:flex;justify-content:center;padding:0 8px;padding-top:5px;
                    svg{width:18px;height:18px}
                }
                .content{flex:1;color:#ccc;font-size:12px;}
                .del{width:32px;height:32px;
                    button{width:20px;height:20px;display:flex;justify-content:center;align-items:center;border-radius:4px;
                        svg{width:14px;height:14px;}
                        &:hover{background-color:#333;}
                    }
                }
            }
            .handle{display:flex;justify-content:flex-end;
                button{color:#fff;height:26px;font-size:12px;background-color:#2f2f2f;padding:0 12px;border-radius:2px;border:solid 1px #444;margin-right:15px;transition:.1s;
                    &:hover{background-color:#353535;}
                }
                button.primary{background-color:#0078d4;border-color:#0078d4;
                    &:hover{background-color:#0564ad;border-color:#0564ad}
                }
            }
        }
    }

    /* 进入：始位置 */
    .notice-enter-from,.notice-leave-to {
        opacity:0;
        transform: translateY(100%);
    }
    /* 进入：末位置 */
    .notice-enter-to,.notice-leave-from {
        transform: translateY(0%);
        opacity:1;
    }
</style>